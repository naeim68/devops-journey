# 🧠 Linux Basics  

یادداشت جامع مفاهیم پایه‌ای کار با خط فرمان لینوکس، مدیریت کاربران، ساختار سیستم، شبکه و پارتیشن‌بندی.

---

## 👤 مدیریت کاربران (User Management)

| دستور | توضیح | مثال |
|:------|:------|:------|
| `sudo -i` | فعال‌سازی دسترسی کاربر **root** (ورود به محیط مدیریتی) | — |
| `passwd [username]` | تغییر یا تنظیم رمز عبور برای کاربر مشخص‌شده | `passwd naeim` |
| `su -` | سوییچ (تغییر) کاربر به حساب دیگر؛ اگر به root سوییچ شود، محیط root بارگذاری می‌شود | `su - root` |
| `whoami` | نمایش کاربر فعلی سیستم | `whoami` |

---

## 💻 ساختار خط فرمان (Command Prompt Structure)

```bash
root@ubuntuDesktop:~#
```

- `root` : نام کاربر فعلی  
- `ubuntuDesktop` : نام میزبان (hostname)  
- `:` → جداکننده می‌باشد  
- `~` → دایرکتوری فعلی (Home Directory)  
- `#` → اگر نشانه‌ی پایانی # باشد، یعنی کاربر root است  
- `$` → اگر نشانه‌ی پایانی $ باشد، یعنی کاربر استاندارد (غیرمدیر) است  

---

## 🧭 دستورهای مرتبط با سیستم و مسیرها

| دستور | توضیح | مثال |
|:------|:------|:------|
| `hostname` | نمایش نام سیستم | `hostname` |
| `hostnamectl set-hostname [newname]` | تغییر نام سیستم (نیازمند sudo) | `sudo hostnamectl set-hostname devops-lab` |
| `file [path/to/file]` | تشخیص نوع فایل (متنی، باینری، اسکریپت و...) | `file /etc/passwd` |
| `pwd` | نمایش مسیر فعلی (Print Working Directory) | `pwd` |

---

## 📂 مدیریت پوشه‌ها و فایل‌ها

| دستور | عملکرد | مثال |
|:------|:--------|:------|
| `mkdir [name]` | ساخت دایرکتوری جدید | `mkdir test` |
| `rmdir [name]` | حذف دایرکتوری **خالی** | `rmdir emptydir` |
| `rm -r [path]` | حذف دایرکتوری و محتویات آن (بازگشتی) | `rm -r oldproject` |
| `mkdir -p [parent/child]` | ساخت دایرکتوری‌های تو در تو | `mkdir -p projects/devops/day1` |
| `touch [filename]` | ایجاد فایل جدید یا به‌روزرسانی زمان آخرین تغییر | `touch notes.txt` |
| `cat [filename]` | نمایش محتوای فایل | `cat notes.txt` |
| `echo "text"` | چاپ متن در خروجی (ترمینال) | `echo "Hello Linux"` |
| `echo "text" > file.txt` | نوشتن متن در فایل (بازنویسی) | `echo "new content" > file.txt` |
| `echo "text" >> file.txt` | افزودن متن به انتهای فایل (Append) | `echo "append line" >> file.txt` |
| `ls` | لیست فایل‌ها و پوشه‌های مسیر فعلی | `ls` |
| `ls -a` | نمایش همه‌ی فایل‌ها (شامل مخفی‌ها) | `ls -a` |
| `ls -lh` | نمایش فایل‌ها با جزئیات و حجم خوانا | `ls -lh` |
| `ls -R` | نمایش بازگشتی فایل‌ها و زیرپوشه‌ها | `ls -R` |

---

## 📘 کمک و مستندات

| دستور | توضیح | مثال |
|:------|:------|:------|
| `man [command]` | نمایش راهنمای کامل دستور | `man ls` |
| `[command] --help` | نمایش راهنمای خلاصه دستور | `ls --help` |

---

## ⚙️ نکات تکمیلی

- برای اجرای دستوراتی که نیاز به دسترسی مدیریتی دارند، از `sudo` استفاده کن.  
- هر دستور در لینوکس دو خروجی دارد:  
  - **stdout** → خروجی معمولی  
  - **stderr** → پیام خطا  

می‌توانی این دو را به فایل منتقل کنی:

```bash
ls /root >output.txt 2>error.txt
```

---

## 🌍 بررسی اتصال شبکه و Name Resolution  

### 🔹 دستور `ping`

برای بررسی ارتباط با یک ماشین مقصد استفاده می‌شود و عملکرد شبکه را تأیید می‌کند:

```bash
ping google.com
```

---

## 🔹 Name Resolution

فرآیند **تبدیل نام دامنه به IP** است و توسط **Name Server (DNS)** انجام می‌شود.  
مثلاً:

```bash
google.com → 142.250.74.14
```

---

## 🖥️ انواع سرورهای شبکه

| نوع سرور | وظیفه | توضیح |
|-----------|--------|--------|
| Name Server (DNS) | ترجمه‌ی نام دامنه به IP | مسئول Name Resolution |
| NAT Server | اشتراک‌گذاری اینترنت بین کلاینت‌ها | Network Address Translation |
| DHCP Server | تخصیص خودکار IP به سیستم‌ها | Dynamic Host Configuration Protocol |

---

## ⚙️ فرم‌های مختلف دستورات در لینوکس

| نوع دستور | مثال | توضیح |
|------------|--------|--------|
| Single Dash (-) | `rm -rf` | سبک Unix |
| Double Dash (--) | `rm --recursive` | سبک GNU، خواناتر |
| Without Dash | `ps aux` | سبک BSD، معمول در ابزارهای سیستمی |

---

## 🧩 دستور echo و خروجی‌گیری

| نماد | عملکرد |
|------|----------|
| `>` | بازنویسی فایل (Overwrite) |
| `>>` | افزودن متن به انتهای فایل (Append) |

```bash
echo "Linux Rocks!" > notes.txt
echo "Monitoring is life" >> notes.txt
```

---

## 📂 دستور ls و ساختار خروجی

| دستور | توضیح |
|--------|--------|
| `ls .` | لیست دایرکتوری جاری |
| `ls -l` | نمایش جزئیات فایل‌ها (long list) |
| `ls -a` | نمایش فایل‌های مخفی |
| `ls -lh` | نمایش حجم فایل‌ها به‌صورت خوانا |
| `ls -lha` | ترکیب همه موارد بالا |

---

### 🔍 ساختار مجوزها و نوع فایل‌ها

نمونه خروجی:

```bash
drwxr-xr-x 2 naeim staff 4096 Oct 6 09:42 projects
```

اولین کاراکتر نوع فایل را مشخص می‌کند:

| نماد | نوع فایل |
|-------|-----------|
| - | فایل معمولی |
| d | دایرکتوری |
| l | لینک نمادین (symbolic link) |
| b | دستگاه بلاک (Block device) |
| c | دستگاه کاراکتری (Character device) |
| s | سوکت (Socket) |

---

## 🔗 لینک‌ها در لینوکس

در لینوکس دو نوع لینک داریم:

| نوع لینک | توضیح | دستور ساخت |
|-----------|--------|-------------|
| Hard Link | اشاره مستقیم به inode فایل (داده اصلی) | `ln file1.txt link1.txt` |
| Soft Link (Symbolic) | اشاره غیرمستقیم به مسیر فایل دیگر | `ln -s file1.txt symlink1.txt` |

در خروجی `ls -l` ستون دوم تعداد Hard Linkها را نشان می‌دهد.

---

## 📊 ستون‌های دیگر در خروجی ls -l

| ستون | توضیح |
|--------|--------|
| 3️⃣ Owner | کاربری که فایل را ایجاد کرده و Full Access دارد |
| 4️⃣ Group Owner | گروهی که فایل به آن تعلق دارد |
| 5️⃣ Size | اندازه فایل به بایت |
| 6️⃣ Date & Time | آخرین تغییر یا دسترسی |
| 7️⃣ Name | نام فایل یا دایرکتوری |

---

برای مشاهده اطلاعات دقیق‌تر فایل (از جمله زمان‌ها):

```bash
stat file2.txt
```

---

### 🕒 سه نوع زمان

| نوع زمان | توضیح |
|-----------|--------|
| Access Time (atime) | آخرین زمان دسترسی به فایل |
| Modify Time (mtime) | آخرین زمان تغییر محتوای فایل |
| Change Time (ctime) | آخرین زمان تغییر متادیتا (مجوز، مالکیت) |

---

## 💽 پارتیشن‌بندی در لینوکس

### 🔹 Partition Scheme

برای سازمان‌دهی دیسک از دو نوع **Partition Table** استفاده می‌شود:

| نوع | ویژگی | محدودیت |
|------|--------|-----------|
| MBR (Master Boot Record) | برای دیسک‌های کوچک‌تر از 2 TB | حداکثر 4 پارتیشن Primary |
| GPT (GUID Partition Table) | برای دیسک‌های بالای 2 TB | تا 128 پارتیشن |

---

### 🔹 انواع پارتیشن در MBR

| نوع | کاربرد |
|------|--------|
| Primary | پارتیشن بوت‌پذیر که می‌تواند سیستم‌عامل را نگه دارد |
| Extended | پارتیشنی که درون آن چندین پارتیشن منطقی ساخته می‌شود |
| Logical | پارتیشن‌هایی که داخل Extended قرار می‌گیرند |

📘 **نکته:**  
اگر سه پارتیشن Primary داشته باشی، چهارمی باید Extended باشد.  
Logicalها از `/dev/sdb5` به بعد شروع می‌شوند.

---

### 🔹 نمایش دیسک‌ها و وضعیت پارتیشن‌ها

| دستور | توضیح |
|--------|--------|
| `fdisk -l /dev/sda` | نمایش جدول پارتیشن |
| `ls /dev` | مشاهده‌ی دستگاه‌ها |
| `ls /dev/sd*` | نمایش همه‌ی دیسک‌ها |
| `lsblk` | نمایش ساختار پارتیشن‌ها به‌صورت درختی |

---

### 🔹 فایل‌سیستم‌ها (File Systems)

| نوع | ویژگی |
|------|--------|
| ext2 | قدیمی، بدون journaling |
| ext3 | دارای journaling و پایداری بیشتر |
| ext4 | عملکرد بالا، ظرفیت تا 16TB |
| btrfs | مدرن، نیازمند Kernel ≥ 3.10 |
| reiserfs | بیشترین تعداد inode |
| vfat | سازگار با Windows |
| iso9660 | مخصوص CD/DVD |
| nfs | فایل‌سیستم شبکه‌ای |
| swap | فضای مبادله سیستم |
| proc | فایل‌سیستم مجازی پردازش‌ها |

---

### 🔹 فرمت کردن پارتیشن

```bash
mkfs -t ext4 /dev/sdb1
mkfs.ext4 /dev/sdb6
```

---

### 🔹 نمایش فایل‌سیستم‌ها

```bash
lsblk -f
```

---

### 🔹 UUID و Label

هر پارتیشن شناسه‌ای به نام **UUID** دارد که سیستم عامل از آن برای شناسایی استفاده می‌کند.

برای نمایش UUID:

```bash
tune2fs -l /dev/sdb5 | grep UUID
```

برای تعیین Label:

```bash
tune2fs -L music /dev/sdb1
```

| شناسه | کاربرد |
|--------|--------|
| UID | شناسه‌ی کاربر |
| GID | شناسه‌ی گروه |
| UUID | شناسه‌ی پارتیشن |

---

## 🧭 Mount و Addressing

- **Physical Address:** مسیر فیزیکی پارتیشن (مثلاً `/dev/sda1`)  
- **Logical Address (Mount Point):** مسیر منطقی که پارتیشن در آن Mount می‌شود (مثلاً `/mnt/data`)

---

### 🔹 Mount کردن

```bash
mount /dev/sdb1 /mnt/data
```

---

### 🔹 بررسی Mountها

```bash
df
df -h
df -i
df -T
df -Tih
```

📘 **نکته:**  
Mount پس از ریبوت حذف می‌شود مگر در فایل `/etc/fstab` ثبت شده باشد.

---

## 📄 فایل /etc/fstab

| ستون | توضیح |
|--------|--------|
| 1️⃣ File System | آدرس فیزیکی یا UUID یا Label |
| 2️⃣ Mount Point | مسیر Mount |
| 3️⃣ Type | نوع فایل‌سیستم |
| 4️⃣ Options | تنظیمات مثل `defaults`, `rw` |
| 5️⃣ Dump | بکاپ (0/1) |
| 6️⃣ Pass | ترتیب بررسی در بوت |

---

### 🔹 نمونه اضافه کردن UUID

```bash
tune2fs -l /dev/sdb5 > meta-sdb5.txt
grep UUID ./meta-sdb5.txt
tune2fs -l /dev/sdb6 | grep UUID >> /etc/fstab
```

## ✏️ ویرایش فایل‌ها با vi  

در لینوکس چند ویرایشگر متداول داریم:
- `vi` → سبک و پیش‌فرض تقریباً روی همه سیستم‌ها  
- `nano` → رابط ساده‌تر برای کاربران تازه‌کار  
- `emacs` → قدرتمند و قابل توسعه  

### ایجاد فایل با vi  
```bash
vi ./file3.txt
```

---

### 🔹 حالت‌های vi  
| حالت | توضیح |
|:------|:------|
| **Command Mode** | اجرای دستورات (پیش‌فرض هنگام باز کردن) |
| **Insert Mode** | برای نوشتن متن در فایل (فعال‌سازی با `i`) |

---

### 🔹 کلیدهای مهم vi  
| کلید | عملکرد |
|:------|:------|
| `i` | ورود به حالت Insert |
| `Esc` | خروج از Insert Mode |
| `:wq` | ذخیره و خروج |
| `:q` | خروج بدون تغییر |
| `:q!` | خروج اجباری بدون ذخیره |
| `o` | رفتن به خط بعد و ورود به حالت ویرایش |
| `Shift + o` | رفتن به خط قبل و ورود به حالت ویرایش |
| `yy` | کپی خط فعلی |
| `p` | Paste بعد از خط فعلی |
| `Shift + p` | Paste قبل از خط فعلی |
| `1000p` | Paste کردن ۱۰۰۰ بار |
| `dd` | حذف یا Cut خط فعلی |
| `u` | Undo تغییرات |
| `Shift + g` | رفتن به آخر فایل |
| `g` | رفتن به ابتدای فایل |
| `:3740` | رفتن به خط ۳۷۴۰ |
| `:set nu` | نمایش شماره خط‌ها |

---

### 🔍 جستجو در vi  
| دستور | عملکرد |
|:-------|:--------|
| `/string` | جستجو به سمت جلو |
| `?string` | جستجو به سمت عقب |
| `n` | رفتن به مورد بعدی |
| `Shift + n` | برگشت به مورد قبلی |

---

## 🔗 مفاهیم Pipe و جریان‌های استاندارد  

در لینوکس سه جریان استاندارد داریم:
- **stdin (0)** → ورودی استاندارد  
- **stdout (1)** → خروجی استاندارد  
- **stderr (2)** → خروجی خطا  

با **Pipe (`|`)** می‌تونیم خروجی یک دستور رو به ورودی دستور بعدی بدیم.

مثال:
```bash
ls -l /boot | grep efi
```
در این مثال:
- خروجی `ls` → ورودی `grep`
- `grep` فقط خطوط حاوی `efi` رو نمایش می‌ده.

---

## 💾 RAM و Swap  

RAM محلیه برای ذخیره داده‌ها و پردازش‌های فعال.  
وقتی پر میشه، سیستم از فضای **Swap** روی دیسک برای شبیه‌سازی رم استفاده می‌کنه.

### روش‌های ساخت Swap  
| روش | توضیح |
|:------|:------|
| کاهش فضای Volume و اختصاص به Swap | در محیط LVM قابل انجام |
| افزودن دیسک جدید و فرمت به Swap | پارتیشن مجزا برای Swap |
| ایجاد فایل Swap | با دستور `dd` ساخته می‌شود |

---

### 🔹 ساخت فایل Swap با dd  
```bash
dd if=/dev/zero of=./myswap bs=2G count=1
```

| پارامتر | توضیح |
|:----------|:--------|
| `if` | فایل ورودی (`/dev/zero`) |
| `of` | فایل خروجی (`./myswap`) |
| `bs` | اندازه هر بلوک (Block Size) |
| `count` | تعداد بلوک‌ها (در اینجا ۱ → ۲GB) |

---

### فعال‌سازی Swap  
```bash
mkswap ./myswap
swapon ./myswap
swapoff ./myswap
```

افزودن به `/etc/fstab` برای فعال‌سازی خودکار:
```
/swapfile   none   swap   sw   0   0
```

اگر پارتیشن جداگانه داریم:
```bash
mkswap /dev/sdb2
swapon /dev/sdb2
swapoff /dev/sdb2
```

بررسی وضعیت حافظه و Swap:
```bash
free -h
```

---

## 🎯 Wildcard و Regex  

**Wildcard** برای نام فایل‌ها استفاده میشه،  
درحالی‌که **Regex (Regular Expression)** برای محتوای فایل‌ها به‌کار می‌ره.

### مثال‌های Wildcard  

فرض کنید فایل‌هایی داریم:
```
m, m2, man, mbn, mefghn, mz,
s, s123e, s5, s6, sr567, mbz8, msaf500
```

| دستور | عملکرد |
|:------|:--------|
| `ls m*` | فایل‌هایی که با m شروع می‌شوند |
| `ls s*` | فایل‌هایی که با s شروع می‌شوند |
| `ls ???` | فایل‌هایی با دقیقاً ۳ کاراکتر |
| `ls m?*` | فایل‌هایی که با m شروع و حداقل یک کاراکتر دیگر دارند |
| `ls s????` | فایل‌هایی که ۵ کاراکتر دارند و با s شروع می‌شوند |
| `ls m[c-f]*` | دومین کاراکتر بین c تا f |
| `ls m[!b-f]*` | دومین کاراکتر غیر از b تا f |
| `ls s[1,6,r]*` | دومین کاراکتر یکی از 1،6 یا r |
| `ls m[!c-f][x-z]*` | دومین کاراکتر خارج از c-f و سوم بین x-z |
| `ls m{ef,a,saf}*` | بعد از m یکی از ef، a یا saf بیاید |

---

## 👥 مدیریت کاربران و گروه‌ها  

### مفهوم Authentication  
احراز هویت برای دسترسی به منابع سیستم و شبکه.

| نوع احراز هویت | توضیح |
|:----------------|:--------|
| Password-Based | محلی یا دیتابیس لینوکسی |
| Certificate-Based | مبتنی بر گواهی دیجیتال |
| Kerberos | احراز هویت متمرکز |
| Smart Card-Based | کارت فیزیکی امنیتی |

---

### 🔹 ساختار فایل /etc/passwd  
```bash
naeim:x:1002:1002::/home/naeim:/bin/bash
```

| بخش | توضیح |
|:------|:------|
| account name | نام کاربر |
| x | پسورد هش‌شده در `/etc/shadow` |
| uid | شناسه عددی کاربر |
| gid | شناسه گروه اصلی |
| description | توضیح اختیاری |
| /home/naeim | مسیر home کاربر |
| /bin/bash | shell پیش‌فرض کاربر |

---

### 🔹 انواع حساب‌ها  
| نوع | توضیح |
|:------|:------|
| System Account | در زمان نصب سیستم ساخته می‌شود |
| Application Account | هنگام نصب برنامه‌ها ساخته می‌شود |
| User Defined Account | توسط ادمین تعریف می‌شود |

---

### 🔹 محدوده UID  
| بازه | نوع کاربر |
|:------|:------|
| 0–999 | کاربر سیستمی / برنامه‌ای |
| 1000+ | کاربر تعریف‌شده توسط ادمین |

---

### 🔹 فایل‌های مرتبط  
| فایل | توضیح |
|:------|:------|
| `/etc/passwd` | اطلاعات عمومی کاربران |
| `/etc/shadow` | پسورد هش‌شده کاربران |
| `/etc/group` | لیست گروه‌ها |
| `/etc/gshadow` | پسورد گروه‌ها |

---

### 🔹 دستورات کار با گروه‌ها و کاربران  

ایجاد گروه‌ها:
```bash
groupadd IT
groupadd web
groupadd developer
```

ساخت کاربر:
```bash
useradd -d /home/farhad -m -g IT -G web,developer -c "farhad yousefi" -s /bin/bash farhad
passwd farhad
```

| سوییچ | توضیح |
|:------|:------|
| `-d` | home directory |
| `-m` | ساخت دایرکتوری در صورت نیاز |
| `-g` | گروه اصلی |
| `-G` | گروه‌های فرعی |
| `-c` | توضیح کاربر |
| `-s` | shell پیش‌فرض |

---

### 🔹 مدیریت کاربران  
| دستور | عملکرد |
|:------|:------|
| `usermod -L farhad` | قفل کردن کاربر |
| `usermod -U farhad` | باز کردن قفل |
| `userdel -r farhad` | حذف کامل کاربر و home او |

---

### 🔹 فعال / غیرفعال کردن shadowing  
| عملکرد | دستور |
|:------|:------|
| غیرفعال کردن shadowing | `pwunconv` |
| فعال کردن shadowing | `pwconv` |
| غیرفعال کردن shadow گروه‌ها | `grpunconv` |
| فعال کردن shadow گروه‌ها | `grpconv` |

---

### 🔹 تنظیم پسورد گروه  
```bash
gpasswd IT
```

---

### 🔹 ساخت کاربر با پسورد هش‌شده  
```bash
useradd -d /home/naeim -m -g developer -G IT,web -p $(mkpasswd -m sha-512 "linux") -s /bin/bash naeim
```

---


## 📂 دستورات cp و mv  

### 🔹 دستور cp  
دستور `cp` برای **کپی کردن فایل یا پوشه** از مبدا به مقصد استفاده می‌شود.  
در هنگام کپی در مقصد **فایل جدیدی با inode جدید** ساخته می‌شود.

```bash
cp file1 /home/user/docs/
```

✅ نکات مهم:
- درون یک پارتیشن یا بین پارتیشن‌ها قابل استفاده است.  
- چون فایل جدید ساخته می‌شود، **به inode جدید نیاز دارد**.  

---

### 🔹 دستور mv  
فرمان `mv` برای **جابجایی (Cut) یا تغییر نام (Rename)** فایل‌ها استفاده می‌شود.

```bash
mv file1 /home/user/docs/
mv oldname.txt newname.txt
```

✅ نکات مهم:
- اگر در همان پارتیشن جابجا شود → inode ثابت می‌ماند.  
- اگر بین دو پارتیشن جابجا شود → inode جدید از جدول inode پارتیشن مقصد گرفته می‌شود.  
- هر پارتیشن جدول inode مخصوص به خود را دارد.  

---

### مشاهده تعداد inodeهای یک پارتیشن  
```bash
tune2fs -l /dev/sda5
```
در خروجی، مقدار `Inode count` تعداد inodeهای موجود را نمایش می‌دهد.

---

## 💽 بررسی فضای دیسک (Disk Usage)

برای مشاهده میزان فضای اشغال‌شده توسط فایل‌ها و پوشه‌ها از `du` استفاده می‌شود:

| دستور | عملکرد |
|:------|:-------|
| `du /boot` | نمایش فضای اشغال‌شده‌ی پوشه (بدون واحد مشخص) |
| `du -h /boot` | نمایش به‌صورت خوانا (KB, MB, GB) |
| `du -h /boot/*` | نمایش فضای فایل‌های درون پوشه |
| `du -ch /boot/*` | در انتها مجموع کل (Total) را نشان می‌دهد |

---

## 🔐 مجوزها (Permissions)

نمونه‌ی پرمیژن:
```
-rw-r--r--+
```

در لینوکس دو نوع permission داریم:
1. **Standard (Traditional)**  
2. **Specific (با علامت + در انتها)**

---

### ساختار کلی مجوزها  

| بخش | توضیح |
|:------|:------|
| `owner` | مالک فایل (سازنده) |
| `group owner` | گروه اصلی کاربر |
| `other` | سایر کاربران سیستم |

---

### نوع دسترسی‌ها  

| حرف | معنی | در فایل | در پوشه |
|:------|:------|:------|:------|
| `r` | Read | مشاهده با `cat` | لیست با `ls` |
| `w` | Write | ویرایش یا حذف | ساخت/حذف دایرکتوری |
| `x` | Execute | اجرای برنامه | ورود با `cd` |

---

### تغییر مالک یا گروه  

```bash
chown user:group file.txt
chown :developer f1.txt
```

---

## ⚙️ تغییر مجوزها با chmod  

### Symbolic Mode  
```bash
chmod o+r file1
chmod g+w file1
chmod a+x file1
chmod o-x file1
chmod g=r file1
chmod u-x,g-w,o+r file1
```

| نماد | معنی |
|:------|:------|
| `u` | user (مالک) |
| `g` | group (گروه) |
| `o` | other (سایرین) |
| `a` | all (همه) |

`+` → افزودن مجوز  
`-` → حذف مجوز  
`=` → تنظیم دقیق مجوز جدید  

---

### Numeric Mode (اعدادی)
| مقدار | معنی | مجوز |
|:------|:------|:------|
| 4 | read | r |
| 2 | write | w |
| 1 | execute | x |

مثال:
```bash
chmod 755 file1
```
معادل است با:
```
rwxr-xr-x
```

---

## 🧩 مجوزهای خاص (Special Permissions)

| نوع | نماد | محل قرارگیری | توضیح |
|:------|:------|:------|:------|
| SUID | s / S | در ستون owner | اجرای فایل با مجوزهای owner |
| SGID | s / S | در ستون group | اجرای فایل با مجوزهای group owner |
| Sticky | t / T | در ستون other | محدودیت حذف فایل در پوشه‌های عمومی |

در صورتی که bit اجرایی (x) فعال نباشد، حروف بزرگ (S یا T) نمایش داده می‌شود.  

### مثال:
```bash
chmod u+s file1.txt
chmod g+s file1.txt
chmod o+t file1.txt
```

---

### مقداردهی عددی Special Bits  

| بیت | عدد | نوع |
|:------|:------|:------|
| SUID | 4 | s |
| SGID | 2 | s |
| Sticky | 1 | t |

مثال:
```bash
chmod 4755 script.sh
```

---

## 🧮 مقداردهی پیش‌فرض مجوزها (umask)

وقتی فایلی ساخته می‌شود، لینوکس **مجوزهای پیش‌فرض** را بر اساس umask محاسبه می‌کند.

| نوع | مقدار پیش‌فرض |
|:------|:------|
| فایل | 0666 |
| پوشه | 0777 |

مثال:
```
umask = 0022
0666 - 0022 = 0644 (rw-r--r--)
```

---

### تغییر umask  
```bash
umask 0002
```

---

## 🔁 انتقال پرمیژن از یک فایل به فایل دیگر  
```bash
chmod --reference=./d1 f*
```

---

## 🧱 مفهوم Sticky Bit در پوشه‌ها  

پوشه `/tmp` معمولاً Sticky فعال دارد.  
یعنی هر کاربر فقط می‌تواند فایل‌های خودش را حذف، ایجاد یا ویرایش کند.

---

## 🔐 تعریف پسورد برای گروه‌ها  
```bash
gpasswd Developer
```